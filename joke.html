<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Joke Please</title>
    <link rel="stylesheet" href="src/output.css" />
    <link rel="icon" type="image/png" href="./images/favicon.png" />
  </head>
  <body class="font-poppins bg-purple-400 text-white min-h-screen flex flex-col">
    <header>
      <nav
        class="text-5xl font-extrabold font bg-purple-500 flex justify-center items-center h-20 sm:text-3xl"
      >
        <h2 class="px-4 border-white border-x-8">Joke ME!</h2>
      </nav>
    </header>

    <main class="flex justify-center items-center flex-col p-10 h-full">
      <div class="flex justify-center items-center w-full h-fit">
        <img
          id="emoji"
          src="images/joke/sad.png"
          class="h-fit object-contain"
          alt=""
        />
      </div>
      <p id="joke" class="text-3xl m-4 text-center"></p>
      <div
        class="text-2xl border-y-2 border-x-2 p-3 text-white rounded-3xl border-purple-500 hover:bg-purple-500 hover:scale-125 transition ease-[cubic-bezier(.16,1.25,.76,.28)] duration-500"
      >
        <button id="btn">Make me Laugh</button>
      </div>
    </main>

    <div
      class="text-center h-full border-t-2 border-t-purple-500 text-2xl md:text-lg font-semibold"
    >
      <span>
        Jokes Generated are Random and are not writen by the app developer so
        take no offence, The developer Can't be held Accountable.
      </span>
    </div>

    <footer
      class="text-center text-2xl mt-4 font-bold lg:text-2xl md:text-xl sm:text-xs p-3 bg-purple-500 h-ful "
    >
      <div>Copy Right&copy All Rights Reserved By ME @ 2024</div>
    </footer>
    <script>
      let joke = document.querySelector("#joke");
      let btn = document.querySelector("#btn");
      let emoji = document.querySelector("#emoji");

      const link =
        "https://v2.jokeapi.dev/joke/Programming,Miscellaneous,Dark,Pun,Spooky?type=single";
      let getJoke = async () => {
        await fetch(link)
          .then((data) => data.json())
          .then((item) => {
            console.log(item);

            if (item.category == "Dark") {
              emoji.src = "images/joke/devil.png";
            } else if (item.category == "Programming") {
              emoji.src = "images/joke/nerd.png";
            } else if (item.category == "Pun") {
              emoji.src = "images/joke/smirking.png";
            } else if (item.category == "Misc") {
              emoji.src = "images/joke/happy-face.png";
            } else if (item.category == "Spooky") {
              emoji.src = "images/joke/shocked.png";
            }

            joke.textContent = `${item.joke}`;
          });
      };

      btn.addEventListener("click", getJoke);
    </script>
  </body>
</html>
